:root{--chat-bg:#f1f5f9;--chat-surface:#fff;--chat-border:#e2e8f0;--chat-text:#0f172a;--chat-muted:#64748b;--chat-primary:#2563eb;--chat-primary-2:#1e40af;--chat-bubble:#f8fafc;--chat-bubble-self:#2563eb;--chat-bubble-self-text:#fff}

.connection-status{padding:.75rem 1rem;border-radius:.75rem;margin-bottom:1rem;font-weight:600;display:flex;align-items:center;gap:.5rem}
.connection-status.connecting{background:#fff3cd;color:#856404;border:1px solid #ffeeba}
.connection-status.connected{background:#d4edda;color:#155724;border:1px solid #c3e6cb}
.connection-status.error,.connection-status.disconnected{background:#f8d7da;color:#721c24;border:1px solid #f5c6cb}

.chat-container{display:flex;gap:1rem;background:transparent;min-height:600px}
.conversations-panel{width:320px;max-width:100%;background:var(--chat-surface);border:1px solid var(--chat-border);border-radius:1rem;overflow:hidden;display:flex;flex-direction:column}
.conversations-header{padding:1rem;border-bottom:1px solid var(--chat-border);background:linear-gradient(135deg,#ffffff,#f8fafc)}
.conversations-header h5{margin:0;color:var(--chat-text)}
.conversations-header small{color:var(--chat-muted)}
.conversations-search{padding:.75rem 1rem;border-bottom:1px solid var(--chat-border)}
.conversations-list{flex:1;overflow:auto}

.chat-panel{flex:1;background:var(--chat-surface);border:1px solid var(--chat-border);border-radius:1rem;overflow:hidden;display:flex;flex-direction:column;min-width:0}
.empty-state{padding:3rem 1.5rem;text-align:center;color:var(--chat-muted)}
.empty-state i{font-size:2rem;color:var(--chat-primary)}

.chat-header{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1rem;border-bottom:1px solid var(--chat-border);background:linear-gradient(135deg,#ffffff,#f8fafc)}
.chat-participant{display:flex;align-items:center;gap:.75rem;min-width:0}
.chat-participant .avatar{width:40px;height:40px;border-radius:9999px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--chat-primary),#3b82f6);color:#fff;font-weight:700;flex:0 0 auto}
.participant-status{font-size:.875rem;color:var(--chat-muted)}
.typing-status{font-size:.875rem;color:var(--chat-muted)}

.back-button{border:none;background:transparent;color:var(--chat-muted);width:40px;height:40px;border-radius:.75rem;display:inline-flex;align-items:center;justify-content:center}
.back-button:hover{background:var(--chat-bg);color:var(--chat-text)}

.chat-messages{flex:1;overflow:auto;padding:1rem;background:var(--chat-bg)}
.message-row{display:flex;margin-bottom:.75rem;gap:.5rem}
.message-row.self{justify-content:flex-end}
.message-bubble{max-width:70%;padding:.75rem 1rem;border-radius:1rem;background:var(--chat-bubble);border:1px solid var(--chat-border);color:var(--chat-text)}
.message-row.self .message-bubble{background:linear-gradient(135deg,var(--chat-primary),var(--chat-primary-2));color:var(--chat-bubble-self-text);border:none}
.message-meta{margin-top:.25rem;font-size:.75rem;color:var(--chat-muted)}
.message-row.self .message-meta{color:rgba(255,255,255,.8)}

.chat-input{border-top:1px solid var(--chat-border);background:var(--chat-surface);padding:.75rem 1rem}
.chat-input .typing-indicator{color:var(--chat-muted);font-size:.875rem;margin-bottom:.5rem}
.input-wrapper{display:flex;align-items:flex-end;gap:.5rem}
.input-actions{display:flex;align-items:center;gap:.25rem}
.attachment-button{width:44px;height:44px;border:1px solid var(--chat-border);background:#fff;border-radius:.75rem;color:var(--chat-muted);display:inline-flex;align-items:center;justify-content:center}
.attachment-button:hover{background:var(--chat-bg);color:var(--chat-text)}
.message-input{flex:1;min-height:44px;max-height:140px;border:1px solid var(--chat-border);border-radius:.75rem;padding:.65rem .85rem;resize:none;outline:none}
.message-input:focus{border-color:rgba(37,99,235,.5);box-shadow:0 0 0 .25rem rgba(37,99,235,.15)}
.send-button{width:44px;height:44px;border:none;border-radius:.75rem;background:linear-gradient(135deg,var(--chat-primary),var(--chat-primary-2));color:#fff;display:inline-flex;align-items:center;justify-content:center}
.send-button:hover{filter:brightness(.98)}
.send-button:disabled{opacity:.6}

.file-preview{margin-top:.5rem;border:1px dashed var(--chat-border);border-radius:.75rem;padding:.5rem .75rem;display:flex;align-items:center;justify-content:space-between;gap:1rem;color:var(--chat-muted)}
.file-info{display:flex;align-items:center;gap:.5rem;min-width:0}
.file-name{max-width:260px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.remove-file{border:none;background:transparent;color:var(--chat-muted);width:36px;height:36px;border-radius:.5rem;display:inline-flex;align-items:center;justify-content:center}
.remove-file:hover{background:var(--chat-bg);color:var(--chat-text)}

@media (max-width: 992px){.chat-container{flex-direction:column}.conversations-panel{width:100%}}
